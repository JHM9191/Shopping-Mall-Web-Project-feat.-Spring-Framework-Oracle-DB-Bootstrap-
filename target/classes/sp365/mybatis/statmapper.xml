<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sp365.mapper.StatMapper">

	<select id="selectbypayment" resultType="stat">
		SELECT o_payment "condition", SUM(o_total) "totSale" FROM orders GROUP BY o_payment
	</select>
	
	<select id="selectyearly" resultType="stat">
		SELECT EXTRACT(year FROM o_regdate) "condition", SUM(o_total) "totSale" FROM orders GROUP BY EXTRACT(year FROM o_regdate) ORDER BY EXTRACT(year FROM o_regdate)
	</select>
	
	<select id="selectmonthly" resultType="stat">
		SELECT (EXTRACT(year FROM o_regdate) || '/' || EXTRACT(month FROM o_regdate)) "condition", SUM(o_total) "totSale" FROM orders GROUP BY EXTRACT(year FROM o_regdate), EXTRACT(month FROM o_regdate) ORDER BY EXTRACT(year FROM o_regdate), EXTRACT(month FROM o_regdate)
	</select>
	
	<select id="selectdaily" resultType="stat">
		SELECT EXTRACT(year FROM o_regdate) || '/' || EXTRACT(month FROM o_regdate) || '/' || EXTRACT(day FROM o_regdate) "condition", SUM(o_total) "totSale" FROM orders GROUP BY EXTRACT(year FROM o_regdate), EXTRACT(month FROM o_regdate), EXTRACT(day FROM o_regdate) ORDER BY EXTRACT(year FROM o_regdate), EXTRACT(month FROM o_regdate), EXTRACT(day FROM o_regdate) 
	</select>
</mapper>
